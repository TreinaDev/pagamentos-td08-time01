<h1>Cadastrar Promoção</h1>


<div class="card mb-4">
	<div class="card-header">
		<i class="fas fa-table me-1"></i>
	</div>
  <div class="card-body">
    <%= form_with model: @promotion do |f| %>
      <div class="mb-3 row">
        <div class="col">
          <%= f.label :name, class: "form-label" %>
          <%= f.text_field :name, class: "form-control", autofocus: true %>
          <% @promotion.errors.full_messages_for(:name).each do |message| %>
            <p class="mt-1"><%= message %></p>
          <% end %>
        </div>
        <div class="col">
          <%= f.label :discount_percent, class: "form-label" %>
          <%= f.text_field :discount_percent, class: "form-control" %>
          <% @promotion.errors.full_messages_for(:discount_percent).each do |message| %>
            <p class="mt-1"><%= message %></p>
          <% end %>
        </div>
      </div>
      <div class="mb-3 row">
        <div class="col">
          <%= f.label :start_date, class: "form-label" %>
          <%= f.date_field :start_date, class: "form-control" %>
          <% @promotion.errors.full_messages_for(:start_date).each do |message| %>
            <p class="mt-1"><%= message %></p>
          <% end %>
        </div>
        <div class="col">
          <%= f.label :end_date, class: "form-label" %>
          <%= f.date_field :end_date, class: "form-control" %>
          <% @promotion.errors.full_messages_for(:end_date).each do |message| %>
            <p class="mt-1"><%= message %></p>
          <% end %>
        </div>
        <div class="col">
          <%= f.label :limit_day, class: "form-label" %>
          <%= f.number_field :limit_day, class: "form-control", step: 0.1, min: 0 %>
          <% @promotion.errors.full_messages_for(:limit_day).each do |message| %>
            <p class="mt-1"><%= message %></p>
          <% end %>
        </div>
      </div>
      <div class="mb-3 row">
        <div class="col">
          <%= f.label :client_category_id, class: "form-label" %>
          <%= f.collection_select(:client_category_id, @client_categories.order(:name), :id, :name, { include_blank: false }, { class: "form-control" }) %>
          <% @promotion.errors.full_messages_for(:client_category_id).each do |message| %>
            <p class="mt-1"><%= message %></p>
          <% end %>
        </div>
      </div>
      <div class="form-group button-form-group">
        <%= f.submit 'Cadastrar', disable_with: 'cadastrando...', class: "btn btn-primary" %>
      </div>
      <div class="form-group button-form-group">
        <%= link_to 'Voltar', :back, class: "btn btn-light" %>
      </div>
    <% end %>
  </div>
</div>
