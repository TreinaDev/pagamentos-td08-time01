<% if @promotion.errors.any? %>
  <p>Verifique os erros abaixo:</p>
  <ul>
    <% @promotion.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
  </ul>
<% end %>

<h1 class="mt-4 page-title">Cadastrar Promoção</h1>

<div class="card mb-4">
	<div class="card-header">
		<i class="fas fa-table me-1"></i>Formulário
	</div>
  <div class="card-body">
    <%= form_with model: @promotion do |f| %>
      <div class="mb-3 row">
        <div class="col">
          <%= f.label :name, class: "form-label" %>
          <%= f.text_field :name, class: "form-control", autofocus: true %>
        </div>
        <div class="col">
          <%= f.label :bonus, class: "form-label" %>
          <%= f.text_field :bonus, class: "form-control" %>
        </div>
      </div>
      <div class="mb-3 row">
        <div class="col">
          <%= f.label :start_date, class: "form-label" %>
          <%= f.date_field :start_date, class: "form-control" %>
        </div>
        <div class="col">
          <%= f.label :end_date, class: "form-label" %>
          <%= f.date_field :end_date, class: "form-control" %>
        </div>
        <div class="col">
          <%= f.label :limit_day, class: "form-label" %>
          <%= f.number_field :limit_day, class: "form-control", step: 0.1, min: 0 %>
        </div>
      </div>
      <div class="mb-3 row">
        <div class="col">
          <%= f.label :client_category_id, class: "form-label" %>
          <%= f.collection_select(:client_category_id, @client_categories.order(:name), :id, :name, { include_blank: false }, { class: "form-control" }) %>
        </div>
      </div>
      <div class="form-group button-form-group">
        <%= f.submit 'Cadastrar', disable_with: 'cadastrando...', class: "btn btn-primary" %>
      </div>
    <% end %>
  </div>
</div>

<div class="form-group button-form-group">
  <%= link_to 'Voltar', :back, class:"btn btn-secondary" %>
</div>